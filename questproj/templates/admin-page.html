{% extends "base_site.html" %}

{% load humanize %}

{% block title %}Admin Page{% endblock %}

{% block content %}

    <p><a href="/admin/">Django Admin</a></p>

    <h2>api</h2>
    <p>A <a href="http://en.wikipedia.org/wiki/Representational_state_transfer">RESTful</a> api interface to the clues is rendered with
        <a href="https://django-tastypie.readthedocs.org/">Tastypie</a> and
        <a href="https://github.com/PaulUithol/backbone-tastypie/">Backbone-tastypie</a>.
    </p>
    <ul id="api-samples"></ul>

{% endblock %}

{% block extrajs %}

{#  I do an old-school import of jquery here, just so I can use it to write quick scripts. #}
{#  Hacky.Could the bundled jquery could be used instead?  But its just an admin page anyway. #}
    {% load staticfiles %}
    <script src="{% static 'lib/jquery.js' %}"></script>


    <script type="text/javascript">

        // Write href code for each url in the list
        $(function() {
            var urls = [
                '/api/v1/?format=json',
                '/api/v1/clue?format=json',
                '/api/v1/clue/?format=json&page=7',
                '/api/v1/clue/1/?format=json',
                '/api/v1/random_clues?format=json',
                '/api/v1/clue/schema/?format=json',
                '/api/v1/clue/set/1;3/?format=json',
                '/api/v1/user_log/?format=json',
                '/api/v1/user_log/?userid=1&format=json',
                '/api/v1/user_prof/1/?format=json',
                '/api/v1/user_prof/?user__username=shill&format=json'];
            for (var i=0; i < urls.length; i++) {
                $('#api-samples').append("<li><a href='" + urls[i] + "'>" + urls[i] + "</a></li>");
            }
        });

    </script>

{% endblock extrajs %}
